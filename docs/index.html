<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Авиакомпания: регистрация и бронирование</title>
  <link rel="stylesheet" href="style2.css?v=2" />
</head>
<body>
  <div class="bg"></div>

  <main class="wrap">
    <header class="top">
      <div class="pill">EN</div>
      <h1>Авиакомпания:<br/>регистрация и бронирование</h1>
      <p class="sub">Сначала /start у бота → потом коды → потом бронирование.</p>
    </header>

    <section id="view-auth" class="card">
      <div class="tabs">
        <button id="tab-register" class="tab active" type="button">Регистрация</button>
        <button id="tab-login" class="tab" type="button">Вход</button>
      </div>

      <div id="pane-register" class="pane">
        <h2>Регистрация</h2>

        <div class="grid2">
          <label class="field">
            <span>Telegram @username</span>
            <input id="reg-username" placeholder="@username" autocomplete="username" />
            <small>Если это Telegram WebApp — username подхватится сам.</small>
          </label>

          <div class="hint">
            Без <b>/start</b> бот не знает, куда тебе писать. Да, так работает Telegram.
          </div>

          <label class="field">
            <span>Фамилия</span>
            <input id="reg-last" placeholder="Ivanov" />
          </label>
          <label class="field">
            <span>Имя</span>
            <input id="reg-first" placeholder="Petr" />
          </label>

          <label class="field">
            <span>Отчество (можно пусто)</span>
            <input id="reg-middle" placeholder="Nikolaevich" />
          </label>

          <label class="field">
            <span>Серия и номер паспорта</span>
            <input id="reg-passport" placeholder="AA0000000" />
          </label>

          <label class="field">
            <span>Телефон</span>
            <input id="reg-phone" placeholder="+375XXXXXXXXX" />
          </label>

          <label class="field">
            <span>E-mail</span>
            <input id="reg-email" placeholder="example@mail.com" />
          </label>
        </div>

        <div class="row">
          <button id="reg-get-code" class="btn" type="button">Получить код</button>
          <input id="reg-code" class="code" placeholder="000000" inputmode="numeric" maxlength="6" />
          <button id="reg-confirm" class="btn primary" type="button">Подтвердить регистрацию</button>
        </div>
      </div>

      <div id="pane-login" class="pane hidden">
        <h2>Вход</h2>

        <label class="field">
          <span>Telegram @username</span>
          <input id="login-username" placeholder="@username" autocomplete="username" />
          <small>Если уже регался — просто подтверждаешь вход кодом.</small>
        </label>

        <div class="row">
          <button id="login-get-code" class="btn" type="button">Получить код</button>
          <input id="login-code" class="code" placeholder="000000" inputmode="numeric" maxlength="6" />
          <button id="login-confirm" class="btn primary" type="button">Войти</button>
        </div>
      </div>
    </section>

    <section id="view-booking" class="card hidden">
      <div class="booking-top">
        <div>
          <h2>Бронирование</h2>
          <p class="sub2">Ты в системе как <b id="whoami">@username</b></p>
        </div>
        <div class="row">
          <button id="btn-my" class="btn" type="button">Мои рейсы</button>
          <button id="btn-logout" class="btn danger" type="button">Выйти</button>
        </div>
      </div>

      <div class="search">
        <div class="grid4">
          <label class="field">
            <span>Страна отправления</span>
            <input id="from-country" placeholder="Belarus" />
          </label>
          <label class="field">
            <span>Город отправления</span>
            <input id="from-city" placeholder="Minsk" />
          </label>
          <label class="field">
            <span>Страна прибытия</span>
            <input id="to-country" placeholder="Poland" />
          </label>
          <label class="field">
            <span>Город прибытия</span>
            <input id="to-city" placeholder="Warsaw" />
          </label>

          <label class="field">
            <span>Дата туда</span>
            <input id="date-out" type="date" />
          </label>

          <label class="field inline">
            <span class="inline-label">
              <input id="has-return" type="checkbox" />
              Дата назад
            </span>
            <input id="date-back" type="date" disabled />
          </label>
        </div>

        <div class="row">
          <button id="btn-search" class="btn primary" type="button">Найти рейсы</button>
          <span class="muted">Выбор рейса → выбор места → код → бронь.</span>
        </div>
      </div>

      <div id="results" class="results hidden">
        <div class="split">
          <div class="col">
            <h3>Рейсы туда</h3>
            <div id="list-out" class="list"></div>
          </div>
          <div class="col">
            <h3 id="back-title" class="muted">Рейсы назад</h3>
            <div id="list-back" class="list"></div>
          </div>
        </div>

        <div class="split">
          <div class="col">
            <h3>Места (туда)</h3>
            <div id="seats-out" class="seats"></div>
          </div>
          <div class="col">
            <h3 id="seats-back-title" class="muted">Места (назад)</h3>
            <div id="seats-back" class="seats"></div>
          </div>
        </div>

        <div class="confirm">
          <div class="summary" id="summary"></div>
          <div class="row">
            <button id="book-get-code" class="btn" type="button">Получить код для бронирования</button>
            <input id="book-code" class="code" placeholder="000000" inputmode="numeric" maxlength="6" />
            <button id="book-confirm" class="btn primary" type="button">Подтвердить бронирование</button>
          </div>
        </div>
      </div>

      <div id="my" class="my hidden">
        <h3>Мои рейсы</h3>
        <div id="my-list" class="list"></div>
      </div>
    </section>

    <div id="toast" class="toast hidden"></div>
  </main>

  <script src="script.js?v=2"></script>
</body>
</html>
